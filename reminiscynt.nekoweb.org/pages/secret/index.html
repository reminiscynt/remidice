<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>ˣ SECRET ˣ</title>
    <link rel="stylesheet" href="/pages/secret/style.css" />
    <link rel="icon" type="image/png" href="/images/moblin.png" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>

  <body>
    <img
      src="https://media1.tenor.com/m/eri5DvxK9DMAAAAd/nes-secret.gif"
      class="gif"
    />

    <p>
      WELCOME TO THE SECRET PAGE!<br /><br /><br />
      SORRY IF YOU WERE EXPECTING MORE.<br /><br />
      IT IS JUST ME.<br /><br /><br /><br />
      <!-- Text acting as a play button -->
      <span id="playButton">ALONE.<br /></span>
    </p>

    <img
      src="/images/sadluigi.jpg"
      width="150"
      height="200"
      id="sadluigi"
      hidden="true"
    />

    <!-- Audio element (hidden) -->
    <audio id="audioPlayer">
      <source src="/audio/alone.mp3" type="audio/mpeg" />
    </audio>

    <script>
      const delay = (ms) => new Promise((res) => setTimeout(res, ms));
      const playButton = document.getElementById("playButton");
      const audioPlayer = document.getElementById("audioPlayer");
      const luigiimg = document.getElementById("sadluigi");
      // Toggle play/pause when clicking the image
      playButton.addEventListener(
        "click",
        (e) => {
          audioPlayer.play();
          playButton.style.color = "white";
          luigitrans();
        },
        { once: true }
      );

      audioPlayer.addEventListener(
        "onended",
        (e) => {
          luigiimg.remove();
          audioPlayer.remove();
        },
      );

      const luigitrans = async () => {
        await delay(600);
        luigiimg.hidden = false;
        for (let i = 0; i <= 100; i++) {
          // console.log(i/100)
          luigiimg.style.opacity = i / 100;
          await delay(45);
        }
      };

      // print ascii art to console :3
      console.log("welcome to teh sekret X3");
      console.log(`
            \,
            |\`-.__
            / \' _/
           ****\` 
          /    }
         /  \ /
     \ /\`   \\\\
      \`\    /_\\
       \`~~~~~\`\`~\`

      `);
    </script>
  </body>
</html>
